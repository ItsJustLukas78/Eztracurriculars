#:kivy 2.1.0

WindowManager:
    MainWindow:
        id: MainWindow
        name: "Main"
    FormWindow:
        id: FormWindow
        name: "Form"
    BrowseWindow:
        id: BrowseWindow
        name: "Browse"

<MainWindow>:
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.12, 0.12, 0.12, 1
            Rectangle:
                pos: self.pos
                size: self.size
    AnchorLayout:
        anchor_x: "center"
        anchor_y: "center"
        BoxLayout:
            orientation: "vertical"
            size_hint: 0.5, 0.3
            spacing: "10dp"
            Label:
                size_hint: 1, 0.6
                text: "Eztracurriculars"
                font_size: "16sp"
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            Button:
                size_hint: 1, 0.4
                text: "Find extracurriculars"
                font_size: "13sp"
                color: 1, 1, 1, 1
                background_color: 0.3, 0.3, 0.3, 1
                on_press: root.start_button_click()
                on_release: 
                    app.root.current = "Form"
                    root.manager.transition.direction = "left"

<FormWindow>:
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: 0.12, 0.12, 0.12, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.05
            Label:
                size_hint: 1, 1
                text: "Eztracurriculars"
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            Button:
                size_hint: 0.075, 1
                text: "X"
                color: 1, 0.1, 0.1, 1
                background_color: 0.3, 0.3, 0.3, 1
                on_press: root.start_button_click()
                on_release: 
                    app.root.current = "Main"
                    root.manager.transition.direction = "right"
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 1
            ScrollView:
                StackLayout:
                    cols: 1
                    size_hint: 1, None
                    height: 1000
                    spacing: "10dp"
                    BoxLayout:
                        orientation: "vertical"
                        size_hint: 1, 0.2
                        Label:
                            text: "What interests you? Feel free to type\nany keywords seperated by commas\nto find extracurriculars."
                            canvas.before:
                                Color:
                                    rgba: 0.2, 0.1, 0.2, 1
                                Rectangle:
                                    pos: self.pos
                                    size: self.size
                        TextInput:
                            id: keywords_input
                            text: "type here"
                            color: 1, 1, 1, 1
                            on_change: 
                    BoxLayout:
                        orientation: "vertical"
                        size_hint: 1, 0.2
                        Label:
                            text: "What time are you available for an\nextracurricular?"
                            canvas.before:
                                Color:
                                    rgba: 0.2, 0.1, 0.2, 1
                                Rectangle:
                                    pos: self.pos
                                    size: self.size
                        TextInput:
                            text: "type here"
                            color: 1, 1, 1, 1
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.3
            Button:
                size_hint: 1, 0.6
                text: "Submit form"
                color: 0.7, 1, 0.7, 1
                background_color: 0.3, 0.3, 0.3, 1
                on_release: 
                    root.submit_button_click()
                    app.root.current = "Browse"
                    root.manager.transition.direction = "left"
            Button:
                size_hint: 1, 0.4
                text: "Clear form"
                color: 1, 0.7, 0.7, 1
                background_color: 0.3, 0.3, 0.3, 1
                on_release: root.clean_button_click()

<BrowseWindow>:
    BoxLayout:
        orientation: "vertical"
        canvas.before:
            Color:
                rgba: 0.12, 0.12, 0.12, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 0.05
            Label:
                size_hint: 1, 1
                text: "Eztracurriculars"
                color: 1, 1, 1, 1
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1
                    Rectangle:
                        pos: self.pos
                        size: self.size
            Button:
                size_hint: 0.075, 1
                text: "X"
                color: 1, 0.1, 0.1, 1
                background_color: 0.3, 0.3, 0.3, 1
                on_release: 
                    app.root.current = "Main"
                    root.manager.transition.direction = "right"
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, 1
            ScrollView:
                StackLayout:
                    id: browser_layout
                    cols: 1
                    size_hint: 1, None
                    height: self.minimum_height
                    spacing: "10dp"
        BoxLayout:
            orientation: "vertical"
            size_hint: 1, 0.1
            Button:
                size_hint: 1, 1
                text: "Return to form"
                color: 0.7, 1, 0.7, 1
                background_color: 0.3, 0.3, 0.3, 1
                on_release: 
                    app.root.current = "Form"
                    root.manager.transition.direction = "right"